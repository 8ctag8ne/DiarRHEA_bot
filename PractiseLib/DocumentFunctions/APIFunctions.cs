using PractiseDiaryKNU;
using SplittingScript.DocumentFunctions;
using Mscc.GenerativeAI;
using System.Threading.Tasks;
using SplittingScript.PractiseDocuments.PractiseReport;

namespace DocumentFunctions;

public static class APIFunctions
{
    public static CheckResult PractiseDiaryScheduleHasCorrectEndDate(PractiseDiary diary, string EndDate = "02.03")
    {
        throw new NotImplementedException();
    }
    public static async Task<CheckResult[]> PractiseDiaryTitlePageHasCorrectCase_And_PractiseDiaryAssignmentHasCorrectCase_And_PractiseDiaryTaskHasInfinitiveAsync(PractiseDiary diary)
    {
        try
        {

            var Negroid = GeminiAssistant.Instance;
            string prompt = $@"
        –¢–∏ ‚Äî –ª—ñ–Ω–≥–≤—ñ—Å—Ç–∏—á–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç —ñ –≤ —Ç–µ–±–µ —î –∫—ñ–ª—å–∫–∞ –∑–∞–≤–¥–∞–Ω—å. 
        1. –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –≤–∏–∑–Ω–∞—á–∞—Ç–∏, —á–∏ –ø–æ–¥–∞–Ω–µ —ñ–º‚Äô—è —É –Ω–∞–∑–∏–≤–Ω–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏. 
        –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –ª–∏—à–µ 1 (—Ç–∞–∫) –∞–±–æ 0 (–Ω—ñ). –Ø–∫—â–æ —ñ–º‚Äô—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –∞–±–æ –º—ñ—Å—Ç–∏—Ç—å –ø–æ–º–∏–ª–∫–∏, —Ç–∞–∫–æ–∂ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–π 0.

        –ü—Ä–∏–∫–ª–∞–¥–∏:
        –ü–µ—Ç—Ä–µ–Ω–∫–æ –Ü–≤–∞–Ω –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á ‚Üí 1
        –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞ ‚Üí 1
        –®–µ–≤—á–µ–Ω–∫–æ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥—ñ–π–æ–≤–∏—á ‚Üí 1
        –ü–µ—Ç—Ä–µ–Ω–∫–∞ –Ü–≤–∞–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á–∞ ‚Üí 0
        –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—ó –Ü–≥–æ—Ä—ñ–≤–Ω–∏ ‚Üí 0
        –®–µ–≤—á–µ–Ω–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á–∞ ‚Üí 0
        –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –®–µ–≤—á–µ–Ω–∫–∞ ‚Üí 0
        –Ü–≤–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ ‚Üí 0
        ivan petrenko ‚Üí 0
        __ ‚Üí 0
        –ü–Ü–ë ‚Üí 0

        –¢–µ–ø–µ—Ä —Å–∫–∞–∂–∏, —á–∏ —î –Ω–∞—Å—Ç—É–ø–Ω–µ —ñ–º‚Äô—è —É –Ω–∞–∑–∏–≤–Ω–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É:
        {diary.Assignment.StudentName}
        
        2. –¢–≤–æ—î –Ω–∞—Å—Ç—É–ø–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –≤–∏–∑–Ω–∞—á–∞—Ç–∏, —á–∏ –ø–æ–¥–∞–Ω–µ —ñ–º‚Äô—è —É —Ä–æ–¥–æ–≤–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏. 
        –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –ª–∏—à–µ 1 (—Ç–∞–∫) –∞–±–æ 0 (–Ω—ñ). –Ø–∫—â–æ —ñ–º‚Äô—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –∞–±–æ –º—ñ—Å—Ç–∏—Ç—å –ø–æ–º–∏–ª–∫–∏, —Ç–∞–∫–æ–∂ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–π 0.

        –ü—Ä–∏–∫–ª–∞–¥–∏:
        –ü–µ—Ç—Ä–µ–Ω–∫–∞ –Ü–≤–∞–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á–∞ ‚Üí 1  
        –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—ó –Ü–≥–æ—Ä—ñ–≤–Ω–∏ ‚Üí 1  
        –®–µ–≤—á–µ–Ω–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á–∞ ‚Üí 1  
        –ü–µ—Ç—Ä–µ–Ω–∫–æ –Ü–≤–∞–Ω –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á ‚Üí 0  
        –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ó–æ—î—é –Ü–≥–æ—Ä—ñ–≤–Ω–æ—é ‚Üí 0  
        –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—î –°–µ—Ä–≥—ñ—ó–≤–Ω–æ  ‚Üí 0  

        –¢–µ–ø–µ—Ä —Å–∫–∞–∂–∏, —á–∏ —î –Ω–∞—Å—Ç—É–ø–Ω–µ —ñ–º‚Äô—è —É —Ä–æ–¥–æ–≤–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É:
        {diary.TitlePage.StudentName}

        3. –û—Å—Ç–∞–Ω–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Ü–µ–π —Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –©–û –ó–†–û–ë–ò–¢–ò (–†–æ–∑—Ä–æ–±–∏—Ç–∏..., –æ–ø—Ä–∞—Ü—é–≤–∞—Ç–∏..., –∑–∞—Å–≤–æ—ó—Ç–∏..., –≤–∏–≤—á–∏—Ç–∏...):
        {diary.Task.Content}

        –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –ª–∏—à–µ 1 (—Ç–∞–∫) –∞–±–æ 0 (–Ω—ñ).

        –§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ: 
        <–≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–µ—Ä—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è>
        <–≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –¥—Ä—É–≥–µ –∑–∞–≤–¥–∞–Ω–Ω—è>
        <–≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ —Ç—Ä–µ—Ç—î –∑–∞–≤–¥–∞–Ω–Ω—è>";
            var response = await Negroid.Model.GenerateContent(prompt);
            var text = response.Text;
            var responses = text.Split('\n');
            return [
                new CheckResult(responses[0].Contains("1"), "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É", "–ü–Ü–ë –Ω–µ –≤ –Ω–∞–∑–∏–≤–Ω–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É", nameof(PractiseDiaryTitlePageHasCorrectCase_And_PractiseDiaryAssignmentHasCorrectCase_And_PractiseDiaryTaskHasInfinitiveAsync)),
                new CheckResult(responses[1].Contains("1"), "–¢–∏—Ç—É–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞", "–ü–Ü–ë –Ω–µ –≤ —Ä–æ–¥–æ–≤–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É", nameof(PractiseDiaryTitlePageHasCorrectCase_And_PractiseDiaryAssignmentHasCorrectCase_And_PractiseDiaryTaskHasInfinitiveAsync)),
                new CheckResult(responses[2].Contains("1"), "–ó–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É", "–ó–∞–≤–¥–∞–Ω–Ω—è –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è \"–©–æ –∑—Ä–æ–±–∏—Ç–∏?\"", nameof(PractiseDiaryTitlePageHasCorrectCase_And_PractiseDiaryAssignmentHasCorrectCase_And_PractiseDiaryTaskHasInfinitiveAsync)),
            ];
        }
        catch(Exception ex)
        {
            Console.WriteLine($"[Eror] {ex.Message}");
            return [new CheckResult(false, "–ü—Ä–æ–±–ª–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏", "–ü—ñ–¥ —á–∞—Å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤—ñ–¥–º—ñ–Ω–∫—ñ–≤ —Ç–∞ –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫—É –≤–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞.", nameof(PractiseDiaryTitlePageHasCorrectCase_And_PractiseDiaryAssignmentHasCorrectCase_And_PractiseDiaryTaskHasInfinitiveAsync))];
        }
    }
    public static async Task<string> test1(string name1, string name2, string text1)
    {
        var Negroid = GeminiAssistant.Instance;
        string prompt = $@"
    –¢–∏ ‚Äî –ª—ñ–Ω–≥–≤—ñ—Å—Ç–∏—á–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç —ñ –≤ —Ç–µ–±–µ —î –∫—ñ–ª—å–∫–∞ –∑–∞–≤–¥–∞–Ω—å. 
    1. –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –≤–∏–∑–Ω–∞—á–∞—Ç–∏, —á–∏ –ø–æ–¥–∞–Ω–µ —ñ–º‚Äô—è —É –Ω–∞–∑–∏–≤–Ω–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏. 
    –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –ª–∏—à–µ 1 (—Ç–∞–∫) –∞–±–æ 0 (–Ω—ñ). –Ø–∫—â–æ —ñ–º‚Äô—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –∞–±–æ –º—ñ—Å—Ç–∏—Ç—å –ø–æ–º–∏–ª–∫–∏, —Ç–∞–∫–æ–∂ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–π 0.

    –ü—Ä–∏–∫–ª–∞–¥–∏:
    –ü–µ—Ç—Ä–µ–Ω–∫–æ –Ü–≤–∞–Ω –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á ‚Üí 1
    –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞ ‚Üí 1
    –®–µ–≤—á–µ–Ω–∫–æ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥—ñ–π–æ–≤–∏—á ‚Üí 1
    –ü–µ—Ç—Ä–µ–Ω–∫–∞ –Ü–≤–∞–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á–∞ ‚Üí 0
    –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—ó –Ü–≥–æ—Ä—ñ–≤–Ω–∏ ‚Üí 0
    –®–µ–≤—á–µ–Ω–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á–∞ ‚Üí 0
    –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –®–µ–≤—á–µ–Ω–∫–∞ ‚Üí 0
    –Ü–≤–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ ‚Üí 0
    ivan petrenko ‚Üí 0
    __ ‚Üí 0
    –ü–Ü–ë ‚Üí 0

    –¢–µ–ø–µ—Ä —Å–∫–∞–∂–∏, —á–∏ —î –Ω–∞—Å—Ç—É–ø–Ω–µ —ñ–º‚Äô—è —É –Ω–∞–∑–∏–≤–Ω–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É:
    {name1}
    
    2. –¢–≤–æ—î –Ω–∞—Å—Ç—É–ø–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –≤–∏–∑–Ω–∞—á–∞—Ç–∏, —á–∏ –ø–æ–¥–∞–Ω–µ —ñ–º‚Äô—è —É —Ä–æ–¥–æ–≤–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏. 
    –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –ª–∏—à–µ 1 (—Ç–∞–∫) –∞–±–æ 0 (–Ω—ñ). –Ø–∫—â–æ —ñ–º‚Äô—è –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –∞–±–æ –º—ñ—Å—Ç–∏—Ç—å –ø–æ–º–∏–ª–∫–∏, —Ç–∞–∫–æ–∂ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–π 0.

    –ü—Ä–∏–∫–ª–∞–¥–∏:
    –ü–µ—Ç—Ä–µ–Ω–∫–∞ –Ü–≤–∞–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á–∞ ‚Üí 1  
    –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—ó –Ü–≥–æ—Ä—ñ–≤–Ω–∏ ‚Üí 1  
    –®–µ–≤—á–µ–Ω–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á–∞ ‚Üí 1  
    –ü–µ—Ç—Ä–µ–Ω–∫–æ –Ü–≤–∞–Ω –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á ‚Üí 0  
    –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ó–æ—î—é –Ü–≥–æ—Ä—ñ–≤–Ω–æ—é ‚Üí 0  
    –ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—î –°–µ—Ä–≥—ñ—ó–≤–Ω–æ  ‚Üí 0  

    –¢–µ–ø–µ—Ä —Å–∫–∞–∂–∏, —á–∏ —î –Ω–∞—Å—Ç—É–ø–Ω–µ —ñ–º‚Äô—è —É —Ä–æ–¥–æ–≤–æ–º—É –≤—ñ–¥–º—ñ–Ω–∫—É:
    {name2}

    3. –û—Å—Ç–∞–Ω–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è - –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Ü–µ–π —Ç–µ–∫—Å—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –©–û –ó–†–û–ë–ò–¢–ò (–†–æ–∑—Ä–æ–±–∏—Ç–∏..., –æ–ø—Ä–∞—Ü—é–≤–∞—Ç–∏..., –∑–∞—Å–≤–æ—ó—Ç–∏..., –≤–∏–≤—á–∏—Ç–∏...):
    {text1}

    –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –ª–∏—à–µ 1 (—Ç–∞–∫) –∞–±–æ 0 (–Ω—ñ).

    –§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ: 
    <–≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–µ—Ä—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è>
    <–≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –¥—Ä—É–≥–µ –∑–∞–≤–¥–∞–Ω–Ω—è>
    <–≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ —Ç—Ä–µ—Ç—î –∑–∞–≤–¥–∞–Ω–Ω—è>";
        var response = await Negroid.Model.GenerateContent(prompt);
        var text = response.Text;
        return text;
    }

    public static async Task<CheckResult> PractiseReportHasConclusions(PractiseReport report)
    {
        try
        {

            var Negroid = GeminiAssistant.Instance;
            string prompt = $@"
    –¢–∏ ‚Äî –≤–∏–∫–ª–∞–¥–∞—á –Ω–∞ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç—ñ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω–∏—Ö –Ω–∞—É–∫ —Ç–∞ –∫—ñ–±–µ—Ä–Ω–µ—Ç–∏–∫–∏.  
    –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫—ñ –∑–≤—ñ—Ç–∏ –ø—Ä–æ –≤–∏—Ä–æ–±–Ω–∏—á—É –ø—Ä–∞–∫—Ç–∏–∫—É.  

    üìå **–ó–≤—ñ—Ç –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –≤–∏—Å–Ω–æ–≤–∫–∏.**  
    –û—Å—å **7 –∑—Ä–∞–∑–∫—ñ–≤** —Ç–µ–∫—Å—Ç—É, —è–∫—ñ —î **–≤–∏—Å–Ω–æ–≤–∫–∞–º–∏**:  

    1Ô∏è‚É£ –ü—ñ–¥ —á–∞—Å –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –≤–∏—Ä–æ–±–Ω–∏—á–æ—ó –ø—Ä–∞–∫—Ç–∏–∫–∏ –±—É–ª–æ –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –∑–Ω–∞–Ω–Ω—è –∑ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑ —Å—É—á–∞—Å–Ω–∏–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—è–º–∏ —Ä–æ–∑—Ä–æ–±–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è, –∑–æ–∫—Ä–µ–º–∞ —É —Å—Ñ–µ—Ä—ñ –≤–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ –±–∞–∑ –¥–∞–Ω–∏—Ö.  

    2Ô∏è‚É£ –Ø –Ω–∞–≤—á–∏–≤—Å—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ –∫–æ–º–∞–Ω–¥—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–∏—Å—Ç–µ–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é –≤–µ—Ä—Å—ñ–π Git —Ç–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—ó Agile, —â–æ –¥–æ–∑–≤–æ–ª–∏–ª–æ –∫—Ä–∞—â–µ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ –ø—Ä–æ—Ü–µ—Å–∏ —Ä–æ–∑—Ä–æ–±–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –≤ —Ä–µ–∞–ª—å–Ω–∏—Ö —É–º–æ–≤–∞—Ö.  

    3Ô∏è‚É£ –ü—ñ–¥ —á–∞—Å –ø—Ä–∞–∫—Ç–∏–∫–∏ –±—É–ª–æ –∑–¥–æ–±—É—Ç–æ —Ü—ñ–Ω–Ω–∏–π –¥–æ—Å–≤—ñ–¥ —É –≤–∏—Ä—ñ—à–µ–Ω–Ω—ñ —Ä–µ–∞–ª—å–Ω–∏—Ö —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å, –≤–∫–ª—é—á–∞—é—á–∏ –∞–Ω–∞–ª—ñ–∑ –≤–∏–º–æ–≥, –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ç–∞ –π–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, —â–æ –∑–Ω–∞—á–Ω–æ –ø–æ–≥–ª–∏–±–∏–ª–æ –º–æ—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª—É —Ä–æ–∑—Ä–æ–±–∫–∏.  

    4Ô∏è‚É£ –Ø –∑—Ä–æ–∑—É–º—ñ–≤ –≤–∞–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ñ–≤ –∫–æ–¥—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó, –Ω–∞–≤—á–∏–≤—Å—è –ø–∏—Å–∞—Ç–∏ —á–∏—Å—Ç–∏–π, –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏–π –∫–æ–¥ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—ñ–≤ —Ä–æ–∑—Ä–æ–±–∫–∏.  

    5Ô∏è‚É£ –ó–∞ –ø–µ—Ä—ñ–æ–¥ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±—É–ª–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —Å–≤—ñ—Ç–æ–≥–ª—è–¥ —á–µ—Ä–µ–∑ —É—á–∞—Å—Ç—å —É —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è—Ö, code review —Ç–∞ –≤–∏–≤—á–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π, —â–æ –¥–æ–ø–æ–º–æ–≥–ª–æ –∫—Ä–∞—â–µ –∑—Ä–æ–∑—É–º—ñ—Ç–∏ —Å—É—á–∞—Å–Ω—ñ —Ç–µ–Ω–¥–µ–Ω—Ü—ñ—ó –≤ –≥–∞–ª—É–∑—ñ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω–∏—Ö –Ω–∞—É–∫ —Ç–∞ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –Ω–∞–ø—Ä—è–º–∫–∏ –ø–æ–¥–∞–ª—å—à–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É.  

    6Ô∏è‚É£ –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å–ø—Ä–∏—è–ª–∞ —Ä–æ–∑–≤–∏—Ç–∫—É –Ω–∞–≤–∏—á–æ–∫ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É, —Ä–æ–∑—Ä–æ–±–∫–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —Ç–∞ —ó—Ö —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó —É —Ä–µ–∞–ª—å–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è. –û—Ç—Ä–∏–º–∞–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤–ø—Ä–æ–≤–∞–¥–∂—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–¥–æ–≤—ñ –º–µ—Ç–æ–¥–∏–∫–∏ —Ä–æ–∑—Ä–æ–±–∫–∏, –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ —Ä–æ–±–æ—á—ñ –ø—Ä–æ—Ü–µ—Å–∏ —Ç–∞ –ø—ñ–¥–≤–∏—â—É–≤–∞—Ç–∏ —è–∫—ñ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è.

    7Ô∏è‚É£–í–∏–∫–æ–Ω–∞–Ω–∞ —Ä–æ–±–æ—Ç–∞ –¥–∞–ª–∞ –∑–º–æ–≥—É –≤–¥–æ—Å–∫–æ–Ω–∞–ª–∏—Ç–∏ –Ω–∞–≤–∏—á–∫–∏ –æ–±‚Äô—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è, –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–±–æ—Ç–∏ –∑ API –Ω–µ–π—Ä–æ–º–µ—Ä–µ–∂. –ù–∞–±—É—Ç—ñ –∑–Ω–∞–Ω–Ω—è –¥–æ–∑–≤–æ–ª—è—Ç—å –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –∞–Ω–∞–ª—ñ–∑—É —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö —Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂—É–≤–∞—Ç–∏ —Å—É—á–∞—Å–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –≤ —Ä–µ–∞–ª—å–Ω—ñ –ø—Ä–æ—î–∫—Ç–∏.  

    ---  

    üìå **–¢–µ–ø–µ—Ä –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π —Ü–µ–π –∑–≤—ñ—Ç:**  
    ```  
    {report.Content}  
    ```  

    ‚ùì **–ß–∏ –º—ñ—Å—Ç–∏—Ç—å —Ü–µ–π —Ç–µ–∫—Å—Ç –≤–∏—Å–Ω–æ–≤–∫–∏?**  
    –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π **–ª–∏—à–µ** `1` (—Ç–∞–∫) –∞–±–æ `0` (–Ω—ñ).
";

            var response = await Negroid.Model.GenerateContent(prompt);
            var text = response.Text?.Trim();
            return new CheckResult(text?.Contains("1") ?? false, "–í–∏—Å–Ω–æ–≤–∫–∏", "–ó–≤—ñ—Ç –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –≤–∏—Å–Ω–æ–≤–∫—ñ–≤", nameof(PractiseReportHasConclusions));
        }
        catch(Exception ex)
        {
            Console.WriteLine($"[Eror] {ex.Message}");
            return new CheckResult(false, "–ü—Ä–æ–±–ª–µ–º–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏", "–ü—ñ–¥ —á–∞—Å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–∏—Å–Ω–æ–≤–∫—ñ–≤ –≤–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞.", nameof(PractiseReportHasConclusions));
        }
    }
}